##### 应对网站大规模并发访问的优化建议
***
- 一、服务器配置优化：

    根据应用服务器的性能和并发访问量的大小来规划应用服务器的数量

    原则是，单台应用服务器的性能不一定要求最好，但是数量一定要足够，最好能有一定的冗余来保障服务器故障。

    特别是，在高并发访问峰期间，适当增加某些关键应用的服务器数量。。比如在某些高峰查询业务上，可以使用多台服务器，以满足用户每小时上百万次的点击量。

- 二、使用负载均衡技术：

    负载均衡技术是解决集中并发访问的核心技术,也是一种较为有效的解决网站大规模并发访问的方法。

    实现负载均衡技术的主要设备是负载均衡器服务器。能大大减轻单台服务器处理高并发请求，确保整个网站系统面临高负载时的可靠性。

- 三、数据库结构设计

    可以采取的措施包括：对经常查询的数据库字段做索引、对数据库表进行分区操作（如对海量数据进行分区操作十分必要，例如针对按年份存取的数据，我们可以按年进行分区）、对数据库查询语句-SQL（减少冗余的数据库操作，提高查询效率）进行优化等。
四、中间件的优化

    不同的网站采用不同的架构，那么对相应的中间件的优化也会有不同的方法。具体的优化方法可以根据项目的需要，查阅中间件的官方文档说明进行参数设置，这样才能实现中间件的最优设置。

    如关于Tomcat的优化给出以下几个建议（本人在实际项目开发过程中觉得较为重要的几点）：①线程池优化；②启动占用内存优化；③日志输出优化；④HTTP压缩优化；⑤配置文件优化。
阿斯达

- 五、数据缓存技术的使用

    把用户经常使用到的数据通过缓存(Cache)技术进行管理，从而减轻服务器重新请求的压力，提高网站的访问速度。

    ①所谓的是数据缓存，指的是数据库的数据不是直接传输，而是将数据调用到内存，然后从内存中读取，从而可以大大提高读取速度。数据缓存技术有很多的方案，这里由于开源、高性能等特点，建议使用Memcache来设置数据缓存技术来加速动态web应用程序，减轻数据库负载。

    ②页面缓存一定程度上是针对公共页面，静态化也是页面缓存的一种，将用户经常访问的页面在服务器的相应目录下生成静态页面，当用户再次访问时，不需要对服务器进行动态请求，而只需要对缓存下来的html页面直接读取，这样访问的效率就可以得到有效的提高。
    （页面缓存squid + 页面片段缓存ESI）
    
- 六、服务器拆分
    
    DB库服务器、Web服务器、Cache服务器、负载服务器、文件服务器...等不同服务器物理机器拆分；

    避免相互影响，提高系统稳定性，直观的提高负载能力。

- 七、DB，分库，分表-->读写分离
    
    数据库写入、更新的这些操作的部分数据库连接的资源竞争非常激烈，导致了系统变慢。
    
    分库：业务处置拆分；

    分表：分表规则的封装
    
    读写分离：读写分离要求对数据库的复制、standby等策略有深入的掌握和理解，同时会要求具备自行实现的技术；
    

    